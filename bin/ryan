#!/usr/bin/env reia

# load([code::lib_dir().to_string(), 'ryan', 'retem.re'].join('/'))

puts('Starting up Ryan...')
ryan_dir = [code::lib_dir().to_string(), 'ryan'].join('/')

required = ['retem.re', 'ryan.re', 'session.re', 'controller.re']
required.each { |lib| puts('Loading #{lib}'); load([ryan_dir, lib].join('/')) }

# Initializing application
load('startup.re')
Startup.initialize()

port = 8001
port = System.args()[1].to_int() if System.args()[0] == "-p"

yaws_shim::init_yaws(port)
